version: '3.9'

###
# *Use docker-compose run not docker-compose start 
# Run: docker compose run --rm editor
# Build: docker compose build --no-cache
###

services:

  base:
    extends:
      file: ./base/base.yml
      service: base

  bootstrap:
    container_name: ide-bootstrap
    image: ide-bootstrap:latest
    hostname: machine
    build:
      context: .
      dockerfile: bootstrap.Dockerfile

  editor:
    container_name: ide-editor
    image: ide-editor:latest
    hostname: machine
    build:
      context: .
      dockerfile: editor.Dockerfile
      # args:
      #   - BUILD_NODE_VER=14.17.5
      #   - BUILD_NEOVIM_VER=0.5.0
      #   - BUILD_NODE_ENV=development

    volumes:
      - "./workspace:/workspace"
